<div class="table-container">
  <div class="table-content">
    <p-table
      responsiveLayout="stack"
      [breakpoint]="'960px'"
      [paginator]="true"
      [rows]="5"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[5, 10, 15]"
      [value]="data"
      [tableStyle]="tableStyle"
      [ngClass]="{ 'table-style': true }"
    >
      @if (header) {
<ng-template pTemplate="caption">
        <div class="header-container">
          <h3>{{ header | transloco }}</h3>
          @if (userType === 3) {
<div
           
            class="actions__button actions__button--blue"
            [routerLink]="'/interviews/create'"
          >
            <i class="pi pi-plus" style="color: #fff; font-size: 1.2rem"></i>
          </div>
}
        </div>
      </ng-template>
}
      <ng-template pTemplate="header">
        <tr>
          @for (column of columns; track column) {
  <th>
            @if (column !== 'id' && column !== 'calificacion') {

              {{ 'interviews.' + column | transloco }}
            
}
          </th>
}
          <th>{{ 'interviews.calificacion' | transloco }}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-data>
        <tr>
          @for (column of columns; track column; let index = $index) {
  <td>
            @if (column !== 'calificacion' && column !== 'id') {

              {{ data[column] }}
            
}
          </td>
}

          <td>
            <div class="numeric-column">
              @if (userType === 3) {
<div
               
                class="actions__button actions__button--blue"
                (click)="handleClick($event, data)"
              >
                <i
                  [class]="
                    data.calificacion !== '' ? 'pi pi-eye' : 'pi pi-book'
                  "
                  style="color: #fff; font-size: 1.2rem"
                ></i>
              </div>
}
              @if (userType === 2 && data.calificacion !== '') {
<div
               
                class="actions__button actions__button--blue"
                (click)="setShowInterviewInformation(true, 'llll')"
              >
                <i
                  [class]="'pi pi-eye'"
                  style="color: #fff; font-size: 1.2rem"
                ></i>
              </div>
}
              @if (userType === 2 && data.calificacion === '') {
<div>NA</div>
}
            </div>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td>No existen proyectos</td>
        </tr>
      </ng-template>
    </p-table>

    <!-- Dialogo book -->

    <p-dialog
      header="Header"
      [(visible)]="showConfirmDialog"
      [breakpoints]="{ '960px': '75vw' }"
      [style]="{ width: '50vw' }"
      [draggable]="false"
      [resizable]="false"
      position="center"
    >
      <ng-template pTemplate="header">
        <span
          style="font-size: large; font-weight: bolder"
          class="text-xl font-bold"
          >{{ 'interviews.add-score' | transloco }}</span
        >
      </ng-template>
      <form [formGroup]="registerForm" class="register__form">
        <p class="skill-text"></p>
        <p>
          <span style="font-size: large" class="text-xl font-bold">{{
            'interviews.score' | transloco
          }}</span>
        </p>
        <div class="action-plus-minus">
          <div
            class="actions__button actions__button--blue"
            (click)="score > 1 && decrease()"
          >
            <i
              [class]="'pi pi-minus'"
              style="color: #fff; font-size: 1.2rem"
            ></i>
          </div>
          <p>
            {{ score }}
          </p>
          <div
            class="actions__button actions__button--blue"
            (click)="score < 10 && increase()"
          >
            <i
              [class]="'pi pi-plus'"
              style="color: #fff; font-size: 1.2rem"
            ></i>
          </div>
        </div>
        <p></p>
        <span class="p-float-label">
          <textarea
            id="float-input"
            rows="5"
            cols="30"
            pInputTextarea
          ></textarea>
          <label for="float-input">{{
            'interviews.comment' | transloco
          }}</label>
        </span>
      </form>
      <ng-template pTemplate="footer">
        <p-button
          icon="pi pi-check"
          label="{{ 'profiles.accept' | transloco }}"
          styleClass="p-button-text"
          (onClick)="addData()"
        ></p-button>
      </ng-template>
    </p-dialog>

    <!-- Dialogo eye -->

    <p-dialog
      [(visible)]="showInterviewInformation"
      [breakpoints]="{ '960px': '75vw' }"
      [style]="{ width: '50vw' }"
      [draggable]="false"
      [resizable]="false"
      position="center"
    >
      <head>
        <meta charset="UTF-8" />
        <title>Resultados entrevista</title>
      </head>

      @if (selectedInterview) {
<body>
        <div class="container" style="font-size: large">
          <h2>Resultados entrevista</h2>
          <p></p>
          <div class="rating">
            <strong>Calificaci√≥n:</strong>
            <span> {{ selectedInterview.calificacion }}</span>
          </div>
          <p></p>

          <div class="comment">
            <strong>Comentario:</strong>
            <p>
              {{ selectedInterview.comentario }}
            </p>
          </div>
        </div>
      </body>
}
      <ng-template pTemplate="footer">
        <p-button
          icon="pi pi-check"
          label="{{ 'profiles.accept' | transloco }}"
          styleClass="p-button-text"
          (onClick)="addData()"
        ></p-button>
      </ng-template>
    </p-dialog>
  </div>
</div>
